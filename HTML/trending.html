<!DOCTYPE html>
<html lang="pt">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Eat Around - Tendências</title>
    <link rel="stylesheet" href="../CSS/trending.css" />
  </head>
  <body>
    <header>
      <a href="../HTML/index.html">
        <img src="../IMAGENS/imagem1.png" alt="Logo EatAround" class="logo" />
      </a>
      <nav>
        <ul>
          <li><a href="../HTML/index.html">Início</a></li>
          <li><a href="../HTML/about.html">Sobre</a></li>
          <li><a href="../HTML/trending.html">Trending</a></li>
          <li><a href="../HTML/reservas.html">Reservas</a></li>
        </ul>
      </nav>
      <a href="../HTML/formulario.html" class="deixe-opiniao"
        >Registe o seu Restaurante</a
      >
      <a href="../HTML/login.html" class="login-btn">Login</a>
    </header>

    <main>
      <section class="trending-content">
        <h1>Tendências</h1>
        <p>Aqui vais encontrar os 10 melhores restaurantes do momento</p>

        <table class="restaurant-table">
          <thead>
            <tr>
              <th>Cidade</th>
              <th>Nome do Restaurante</th>
              <th>Link</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Porto</td>
              <td>LIZ</td>
              <td>
                <a
                  href="https://www.instagram.com/restauranteliz"
                  target="_blank"
                  >Visitar</a
                >
              </td>
            </tr>
            <tr>
              <td>Lisboa</td>
              <td>Marlene</td>
              <td><a href="https://marlene.pt" target="_blank">Visitar</a></td>
            </tr>
            <tr>
              <td>Algarve</td>
              <td>O Charneco</td>
              <td>
                <a href="https://www.instagram.com/o.charneco/" target="_blank"
                  >Visitar</a
                >
              </td>
            </tr>
            <tr>
              <td>Madrid</td>
              <td>La Cuadra de Salvador</td>
              <td>
                <a href="https://lacuadradesalvador.com" target="_blank"
                  >Visitar</a
                >
              </td>
            </tr>
            <tr>
              <td>Barcelona</td>
              <td>The Alchemix</td>
              <td>
                <a href="https://thealchemix.com/en/" target="_blank"
                  >Visitar</a
                >
              </td>
            </tr>
            <tr>
              <td>Londres</td>
              <td>Muse</td>
              <td>
                <a href="https://musebytomaikens.co.uk" target="_blank"
                  >Visitar</a
                >
              </td>
            </tr>
            <tr>
              <td>Manchester</td>
              <td>Dakota</td>
              <td>
                <a
                  href="https://dakotahotels.co.uk/manchester/grill/?gad_source=1&gbraid=0AAAAADtOhwtbhrNi8p5VcpcZNxudGgNXf"
                  target="_blank"
                  >Visitar</a
                >
              </td>
            </tr>
            <tr>
              <td>Berlim</td>
              <td>Wilde Wiese</td>
              <td>
                <a
                  href="https://www.instagram.com/goto.wildewiese/"
                  target="_blank"
                  >Visitar</a
                >
              </td>
            </tr>
            <tr>
              <td>Munique</td>
              <td>Freisinger Hof</td>
              <td>
                <a href="https://www.freisinger-hof.de/de/" target="_blank"
                  >Visitar</a
                >
              </td>
            </tr>
            <tr>
              <td>Frankfurt</td>
              <td>Du Liban</td>
              <td>
                <a href="https://www.du-liban.de" target="_blank">Visitar</a>
              </td>
            </tr>
          </tbody>
        </table>
      </section>
    </main>

    <h1>Top 3 Restaurantes Mais Premiados do Mundo</h1>
    <table id="restaurant-table">
      <thead>
        <tr>
          <th>Posição</th>
          <th>Nome</th>
          <th>Localização</th>
          <th>Número de Prêmios</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    <a href="../XML/top3_restaurantes.xml" download="top3_restaurantes.xml">
      Baixar o arquivo XML
    </a>

    <footer>
      <p>&copy; 2025 Eat Around</p>
      <nav>
        <a href="#">Facebook</a>
        <a href="#">Instagram</a>
        <a href="#">Twitter</a>
      </nav>
    </footer>

    <script>
               document.addEventListener("DOMContentLoaded", function () {
              // Caminho para o arquivo XML
              let xhr = new XMLHttpRequest();
              xhr.open("GET", "./XML/top3_restaurantes.xml", true);

          xhr.onload = function () {
        if (xhr.status === 200) {
          let parser = new DOMParser();
          let xmlDoc = parser.parseFromString(xhr.responseText, "application/xml");

          let restaurantes = xmlDoc.getElementsByTagName("restaurante");
          let tableBody = document.querySelector("#restaurant-table tbody");

          for (let i = 0; i < restaurantes.length; i++) {
            let posicao = restaurantes[i].getElementsByTagName("posicao")[0].textContent;
            let nome = restaurantes[i].getElementsByTagName("nome")[0].textContent;
            let localizacao = restaurantes[i].getElementsByTagName("localizacao")[0].textContent;
            let premios = restaurantes[i].getElementsByTagName("premios")[0].textContent;

            let row = document.createElement("tr");
            row.innerHTML = `
              <td>${posicao}</td>
              <td>${nome}</td>
              <td>${localizacao}</td>
              <td>${premios}</td>
            `;
            tableBody.appendChild(row);
          }
        } else {
          console.error("Erro ao carregar o arquivo XML:", xhr.status, xhr.statusText);
        }
      };
    </script>
  </body>
</html>
